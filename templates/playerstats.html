{% extends "template.html" %}

{% block title %} - {{ player['Name'] }}'s Stats{% end %}

{% block head %}
<link href="{{ proxyprefix.rstrip('/') + static_url("css/playerstats.css") }}"
      type="text/css" rel="stylesheet" />

<script src="{{ proxyprefix.rstrip('/') + static_url("js/playerstats.js") }}"
	type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.2/d3.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.2.1/mustache.min.js" type="text/javascript"></script>
{% end %}

{% block content %}
  {% if error %}
    <h1 id="message">{{ error }}</h1>
  {% else %}
		<h1 id="message">{{ player['Name'] }}{% if player['Number'] is not None %} (#{{ player['Number'] }}){% end %}</h1>

		<div id="country">Country: {{ player['CountryCode'] }} {% raw player ['Flag_Image'] %}</td>
		{% if player['Association'] is not None %}
			<div id="association">Association: {{ player['Association'] }}</td>
		{% end %}
		{% if player['Pool'] is not None %}
			<div id="pool">Pool: {{ player['Pool'] }}</td>
		{% end %}
    <div id="playerstats">
    </div>
    <br />
		{% if history and len(history) > 0 %}
			<div id="statshistory">
				<h2>Recently Viewed</h2>
				{% for historyPlayer in history %}
					<a href="{{ proxyprefix }}playerStats/{{ historyPlayer[0] }}">{{ historyPlayer[1] }}</a><br />
				{% end %}
			</div>
		{% end %}
  {% end %}
{% end %}
